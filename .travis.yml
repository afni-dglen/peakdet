sudo: true

language: python

python:
- "2.7"
- "3.5"
- "3.6"

before_install:
- sudo apt-get install libblas-dev
- sudo apt-get install liblapack-dev
- sudo apt-get install gfortran

install:
- pip install pytest pytest-cov
- pip install coveralls
- pip install -r requirements.txt

before_script:
- python setup.py install
- "export DISPLAY=:99.0"
- "sh -e /etc/init.d/xvfb start"
- sleep 3

script:
- py.test --cov-report term-missing --cov=peakdet

after_success:
- coveralls
